!function e(t,n,i){function s(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(r)return r(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var r="function"==typeof require&&require,o=0;o<i.length;o++)s(i[o]);return s}({1:[function(e,t,n){function i(){y.addEventListener("popstate",a),v=_.querySelector(".mask"),h=_.querySelector("html"),f=r(_),v.style.opacity=0,_.body.classList.add("is-visible"),f.classList.add("is-visible"),p.run()}function s(e){g.HISTORY_CHANGED.dispatch(e),ga&&ga("send",{hitType:"pageview",page:location.pathname}),E||c(),m(e,function(e){var t,n=_.createElement("html");n.innerHTML=e,t=r(n),L=t.getAttribute("data-class"),w=t.innerHTML,E||u()})}function r(e){return e.querySelector(".js-content")}function o(e){y.history.pushState({url:e},"",e),s(e)}function a(){s(y.location.pathname)}function c(){E=!0,v.style.display="block",d(1,function(){E=!1,w&&u()})}function u(){w&&(window.scrollTo(0,0),f.innerHTML=w,h.className=L,w=!1,l())}function l(){E||d(0,function(){v.style.display="none",TweenLite.delayedCall(.15,function(){p.run(f)})})}function d(e,t){var n;n=e>0?Cubic.easeOut:Cubic.easeIn,TweenLite.to(v.style,.25,{opacity:e,ease:n,onComplete:function(){t()}})}var h,f,v,m=e("../utils/ajaxRequest"),g=(e("../utils/resizeCanvas"),e("./signals")),p=e("./moduleFactory"),_=document,y=window,L=!1,w=!1,E=!1;n.init=i,n.pushState=o},{"../utils/ajaxRequest":10,"../utils/resizeCanvas":11,"./moduleFactory":2,"./signals":3}],2:[function(e,t,n){function i(e){e||(e=document),s(),a=[],r(e)}function s(){var e;for(e=0;e<a.length;e++)a[e].destroy()}function r(e){o.forEach(function(t){var n,i,s,r=e.querySelectorAll(t.selector);for(s=0;s<r.length;s++)i=r[s],n=new t.constructor,n.init(i),i.classList.contains("js-moduleIgnore")||a.push(n)})}var o=[e("../modules/Analytics"),e("../modules/AnyLink"),e("../modules/NavLink"),e("../modules/Card")],a=[];n.run=i},{"../modules/Analytics":6,"../modules/AnyLink":7,"../modules/Card":8,"../modules/NavLink":9}],3:[function(e,t,n){var i=e("../libs/signals"),s=new i,r=new i;window.addEventListener("resize",s.dispatch),document.addEventListener("scroll",r.dispatch),n.HISTORY_CHANGED=new i,n.RESIZED=s,n.SCROLLED=r},{"../libs/signals":4}],4:[function(e,t,n){/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
!function(e){function n(e,t,n,i,s){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=s||0}function i(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function s(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){s.prototype.dispatch.apply(e,arguments)}}n.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,s){var r,o=this._indexOfListener(e,i);if(-1!==o){if(r=this._bindings[o],r.isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new n(this,e,t,i,s),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){var t=this._bindings.length;do--t;while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if(n=this._bindings[i],n._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,n){return i(e,"add"),this._registerListener(e,!1,t,n)},addOnce:function(e,t,n){return i(e,"addOnce"),this._registerListener(e,!0,t,n)},remove:function(e,t){i(e,"remove");var n=this._indexOfListener(e,t);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,n=Array.prototype.slice.call(arguments),i=this._bindings.length;if(this.memorize&&(this._prevParams=n),i){t=this._bindings.slice(),this._shouldPropagate=!0;do i--;while(t[i]&&this._shouldPropagate&&t[i].execute(n)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var r=s;r.Signal=s,"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof t&&t.exports?t.exports=r:e.signals=r}(this)},{}],5:[function(e,t,n){var i=e("./core/history");i.init()},{"./core/history":1}],6:[function(e,t,n){e("../core/history");n.selector=".js-analytics",n.constructor=function(){function e(e){i=e,s=i.getAttribute("data-category"),r=i.getAttribute("data-label"),ga&&i.addEventListener("click",t)}function t(){ga("send","event",s,"click",r)}function n(){i.removeEventListener("click",t),r=null,s=null,i=null}var i,s,r;this.init=e,this.destroy=n}},{"../core/history":1}],7:[function(e,t,n){var i=e("../core/history");n.selector="a",n.constructor=function(){function e(e){c=e,a=e.getAttribute("href"),r(e)||o(a)||s(a)||c.addEventListener("click",t)}function t(e){e.metaKey||e.ctrlKey||(e.preventDefault(),a!==window.location.pathname&&i.pushState(a))}function n(){c.removeEventListener("click",t),a=null,c=null}function s(e){return 0===e.indexOf("mailto:")}function r(e){var t=e.getAttribute("target");return"_blank"===t}function o(e){var t=/^(\w+:)?\/\//;return void 0!==e&&-1!==e.search(t)}var a,c;this.init=e,this.destroy=n}},{"../core/history":1}],8:[function(e,t,n){var i=e("../utils/resizeCanvas"),s=e("../core/signals"),r="is-visible";n.selector=".js-card",n.constructor=function(){function e(e){g=e,w=e.getElementsByClassName("js-card__size")[0],E=e.getElementsByClassName("js-card__canvas")[0],B=e.getElementsByClassName("js-card__image")[0],P=e.getElementsByClassName("js-card__cover")[0],b=E.getContext("2d"),x={p:0},C=0,p=E.getAttribute("data-mp4"),k=B.getAttribute("data-src"),R=P.getAttribute("data-src"),y=!1,O=window.innerHeight,s.SCROLLED.add(t),s.RESIZED.add(m),m(),t()}function t(){var e=window.pageYOffset||document.scrollTop||0,t=g.getBoundingClientRect().top+e;O+e>t&&t+S>e&&c()}function n(){_=!1,L=null,TweenLite.killTweensOf(x),g.removeEventListener("mouseenter",o),g.removeEventListener("mouseleave",a),g.removeEventListener("mouseenter",o),g.removeEventListener("mouseleave",a),s.SCROLLED.remove(t)}function o(){L||h(),_=!0,f(),L.play(),TweenLite.to(x,.5,{p:1,ease:Cubic.easeInOut})}function a(){TweenLite.to(x,.5,{p:0,ease:Cubic.easeInOut,onComplete:function(){L.pause(),L.currentTime=0,_=!1}})}function c(){y=!0,g.classList.add(r),d(),f(),g.addEventListener("touchstart",u),g.addEventListener("touchend",l),g.addEventListener("mouseenter",o),g.addEventListener("mouseleave",a),s.SCROLLED.remove(t)}function u(){g.removeEventListener("mouseenter",o),g.removeEventListener("mouseleave",a)}function l(){g.addEventListener("mouseenter",o),g.addEventListener("mouseleave",a)}function d(){function e(){B.classList.add(r)}B.onload=e,B.src=k}function h(){L=document.createElement("video"),L.loop=!0,L.src=p,P.src=R}function f(){b.clearRect(0,0,A,T),x.p>0&&v(x.p),_&&requestAnimationFrame(f)}function v(e){function t(e,t){b.lineTo(e,t)}var n=Math.min(1,2*e),i=Math.max(0,2*(e-.5));b.save(),b.beginPath(),b.moveTo(0,T),t(Math.round(A*n),T),i&&(t(A,Math.round(T*(1-i))),t(Math.round(A*i),0)),t(0,Math.round(T*(1-n))),b.closePath(),b.clip(),b.drawImage(P,0,0,A,T),b.drawImage(L,0,0,A,T),b.restore()}function m(){O=window.innerHeight,A=w.offsetWidth,T=w.offsetHeight,B.setAttribute("width",A),B.setAttribute("height",T),P.setAttribute("width",A),P.setAttribute("height",T),S=g.offsetHeight,i(E,A,T),_||f(),y||t()}var g,p,_,y,L,w,E,b,x,C,O,S,A,T,k,R,P,B;this.init=e,this.destroy=n}},{"../core/signals":3,"../utils/resizeCanvas":11}],9:[function(e,t,n){var i=e("../core/signals"),s="mouseenter",r="mouseleave";n.selector=".js-navLink",n.constructor=function(){function e(e){u=e,u.addEventListener("touchstart",t),u.addEventListener("touchend",n),u.addEventListener(s,a),l=c(u.getAttribute("href")),i.HISTORY_CHANGED.add(o)}function t(){u.removeEventListener(s,a)}function n(){u.addEventListener(s,a)}function o(){var e=c(window.location.pathname);e===l?u.classList.add("is-active"):u.classList.remove("is-active")}function a(){function e(n){t(100,!0),u.addEventListener(s,a),u.removeEventListener(r,e)}function t(e,t){var i=(e-n.tween.x)/100;TweenLite.to(n.tween,.35*i,{x:e,ease:Cubic.easeInOut,onUpdate:function(){var e="translateX("+n.tween.x+"%)";n.style.msProperty=e,n.style.webkitTransform=e,n.style.transform=e},onComplete:function(){t&&(u.removeChild(n),n=null)}})}var n;u.removeEventListener(s,a),n=document.createElement("div"),n.className="nav__link__hover",n.tween={x:-100},u.appendChild(n),t(0),u.addEventListener(r,e)}function c(e){return e.replace(/\//g,"")}var u,l;this.init=e}},{"../core/signals":3}],10:[function(e,t,n){t.exports=function(e,t,n){n||(n={});var i=new XMLHttpRequest,s=n.method||"GET";i.open(s,e,!0),n.responseType&&(i.responseType=n.responseType),i.onreadystatechange=function(){var e;4===i.readyState&&200===i.status&&(e=i.response,t(e))},n.params&&i.setRequestHeader("Content-length",n.params.length),i.send(n.params)}},{}],11:[function(e,t,n){function i(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}var s,r,o=window.devicePixelRatio||1,a=document.createElement("canvas").getContext("2d");s=i(a),r=o/s,t.exports=function(e,t,n){var i,a,c=e.getContext("2d");e.width=t,e.height=n,o!==s&&(i=e.width,a=e.height,e.width=i*r,e.height=a*r,e.style.width=i+"px",e.style.height=a+"px",c.scale(r,r))}},{}]},{},[5]);